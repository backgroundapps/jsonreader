<html>
  <heade>
    <title>JSON Reader</title>
  </head>
  <body onload="run()">
    <h1>JSON Reader</h1>
    <p id="demo"></p>
   
    <script>
      function run() {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var myObj = JSON.parse(this.responseText);
                var demo = document.getElementById("demo")
                var name = "Name: " + myObj.name;
		demo.appendChild(p(name));
		var pets = myObj.pets;
		for(var i = 0; i<= pets.length;i++) {
		  demo.appendChild(p(pets[i].animal));
		}
            }
        };
        xmlhttp.open("GET", "loop.json", true);
        xmlhttp.send(); 
      }

      function p(text) {
	var pElement = document.createElement("p");
	pElement.appendChild(document.createTextNode(text));
        return pElement;
      }

    </script>
  </body>
</html>